@section Styles {
    <link rel="stylesheet" href="~/css/index.css" asp-append-version="true" />
}

@model FoodOrderingSystem.Controllers.HomePageViewModel

@{
    ViewData["Title"] = "Home Page";
}

<!-- Full-width home content -->
<div class="home-full-width">

    <!-- Hero Section -->
    <header class="food-hero text-white text-center">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <div class="hero-content text-lg-start">
                        <h1 class="display-3 font-weight-bold">Some call it fast food, We call it love at first bite!</h1>
                        <p class="lead my-4">Ready to make it official? Order your cravings now!</p>
                        <a href="../Menu" class="btn btn-primary btn-lg hero-button">
                            <i class="fas fa-utensils me-2"></i>Order Now
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <div class="hero-logo">
                        <img src="@Url.Content("~/images/logo.png")" alt="MACKDIHH MALAYSIA Logo" class="img-fluid hero-logo-img">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Happy Meal Announcement Section -->
    <section class="announcement-section">
        <div class="container">
            <h2 class="text-center mb-5 section-title">Announcement</h2>
            <div class="row align-items-center">
                <div class="col-lg-6 text-center">
                    <img src="@Url.Content("~/images/mackdihh_meal.jpeg")" class="img-fluid rounded-4 shadow-lg" alt="Happy Meal">
                </div>
                <div class="col-lg-6 text-white text-center text-lg-start mt-4 mt-lg-0">
                    <h2 class="display-5 fw-bolder">The MACKDIHH Meal is Here!</h2>
                    <p class="lead">The newly released MACKDIHH Meal has arrived! Experience a taste of joy with our latest creation, featuring a delicious main, a side of fun, and a surprise toy. Available for a limited time only!</p>
                    <a asp-controller="Menu" asp-action="Index" class="btn btn-lg fw-bold announcement-btn">
                        <i class="fas fa-utensils me-2"></i>Order Now
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Items Section -->
    <section class="container mt-5 featured-section">
        <h2 class="text-center mb-4 section-title">Our Featured Items</h2>
        <div class="row text-center">
            <!-- Featured Item 1 -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card food-menu-card h-100 d-flex flex-column">
                    <img src="@Url.Content("~/images/mackfloaty.png")" class="card-img-top" alt="Mack Floaty" style="height: 200px; object-fit: contain;">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">Mack Floaty</h5>
                        <p class="card-text">Cool off with creamy vanilla ice cream in an ice-cold Coke.</p>
                        <div class="mt-auto">
                            <p class="price mb-2">RM6.69</p>
                            <a asp-controller="Menu" asp-action="Index" class="btn btn-primary">
                                <i class="fas fa-plus me-1"></i>Add to Order
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Featured Item 2 -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card food-menu-card h-100 d-flex flex-column">
                    <img src="@Url.Content("~/images/7.png")" class="card-img-top" alt="Mack Double Drippy Cheese Melt Burger" style="height: 200px; object-fit: contain;">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">Mack Double Drippy Cheese Melt Burger</h5>
                        <p class="card-text">For cheese lovers who want it big and drippy!</p>
                        <div class="mt-auto">
                            <p class="price mb-2">RM14.69</p>
                            <a asp-controller="Menu" asp-action="Index" class="btn btn-primary">
                                <i class="fas fa-plus me-1"></i>Add to Order
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Featured Item 3 -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card food-menu-card h-100 d-flex flex-column">
                    <img src="@Url.Content("~/images/freakysundae.png")" class="card-img-top" alt="Freaky Sundae" style="height: 200px; object-fit: contain;">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">Freaky Sundae</h5>
                        <p class="card-text">Vanilla ice cream with chocolate crumbles.</p>
                        <div class="mt-auto">
                            <p class="price mb-2">RM6.69</p>
                            <a asp-controller="Menu" asp-action="Index" class="btn btn-primary">
                                <i class="fas fa-plus me-1"></i>Add to Order
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Featured Item 4 -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card food-menu-card h-100 d-flex flex-column">
                    <img src="@Url.Content("~/images/mackultibfpancake.png")" class="card-img-top" alt="Mack Ulti-Breakfast Pancake" style="height: 200px; object-fit: contain;">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">Mack Ulti-Breakfast Pancake</h5>
                        <p class="card-text">Pancakes acts as buns and in between has bacon eggs and a beef patty</p>
                        <div class="mt-auto">
                            <p class="price mb-2">RM17.69</p>
                            <a asp-controller="Menu" asp-action="Index" class="btn btn-primary">
                                <i class="fas fa-plus me-1"></i>Add to Order
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Promotions Section -->
    <section class="bg-light py-5">
        <div class="container">
            <h2 class="text-center mb-4 section-title">🔥 Hot Deals & Exclusive Offers</h2>
            <p class="text-center text-muted mb-5">Don't miss out on these amazing deals! Limited time offers that will make your taste buds dance.</p>
            
            <!-- User Status Display for Logged-in Users -->
            @if (Model.User != null)
            {
                <div class="user-status-badges text-center mb-4">
                    <span class="badge bg-success me-2">
                        <i class="fas fa-coins me-1"></i>@Model.UserPoints Points
                    </span>
                </div>
            }
            
            <div class="row">
                <!-- Featured Deal 1 - Welcome Offer -->
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card promo-card h-100 d-flex flex-column shadow-sm">
                        <div class="position-relative">
                            <img src="@Url.Content("~/images/logo.png")" class="card-img-top" alt="Welcome to MackDihh" style="height: 150px; object-fit: contain; background: linear-gradient(135deg, #007bff, #0056b3);">
                            <div class="deal-badge position-absolute top-0 start-0 m-2">
                                <span class="badge bg-success">NEW CUSTOMER</span>
                            </div>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Welcome to MackDihh!</h5>
                            <p class="card-text">Get 10% off your first order! Perfect for new customers trying our delicious food.</p>
                            <div class="mt-auto">
                                <button type="button" class="btn btn-success claim-deal-btn w-100" data-deal="Welcome to MackDihh" data-requirements="First-time customers only">
                                    <i class="fas fa-gift me-2"></i>Claim Welcome Deal
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Featured Deal 2 - Spicy Habanero Flash Sale -->
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card promo-card h-100 d-flex flex-column shadow-sm">
                        <div class="position-relative">
                            <img src="@Url.Content("~/images/4.png")" class="card-img-top" alt="Spicy Habanero Burger" style="height: 150px; object-fit: cover;">
                            <div class="deal-badge position-absolute top-0 start-0 m-2">
                                <span class="badge bg-danger">FLASH SALE</span>
                            </div>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Spicy Habanero Burger</h5>
                            <p class="card-text">Limited time! Get 20% off our new Spicy Habanero Burger for the next 24 hours!</p>
                            <div class="mt-auto">
                                <button type="button" class="btn btn-danger claim-deal-btn w-100" data-deal="Spicy Habanero Burger" data-requirements="Limited time offer - 24 hours only">
                                    <i class="fas fa-fire me-2"></i>Grab This Deal
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Featured Deal 3 - Family Bucket -->
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card promo-card bundle-offer h-100 d-flex flex-column shadow-sm">
                        <div class="position-relative">
                            <img src="@Url.Content("~/images/mackfamilybucket.png")" class="card-img-top" alt="Family Bucket" style="height: 150px; object-fit: cover;">
                            <div class="deal-badge position-absolute top-0 start-0 m-2">
                                <span class="badge bg-warning">FAMILY DEAL</span>
                            </div>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Family Feast Special</h5>
                            <p class="card-text">Save RM15 on orders over RM50! Perfect for our Family Bucket meals.</p>
                            <div class="price-info mb-2">
                                <span class="text-muted">Min. Order: </span>
                                <span class="fw-bold text-primary">RM50</span>
                                <span class="badge bg-success ms-2">Save RM15</span>
                            </div>
                            <div class="mt-auto">
                                <button type="button" class="btn btn-warning claim-deal-btn w-100" data-deal="Family Feast Special" data-requirements="Minimum order RM50">
                                    <i class="fas fa-users me-2"></i>Order Family Deal
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Featured Deal 4 - Happy Meal -->
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card promo-card h-100 d-flex flex-column shadow-sm">
                        <div class="position-relative">
                            <img src="@Url.Content("~/images/Doraemon_meal.png")" class="card-img-top" alt="Doraemon Happy Meal" style="height: 150px; object-fit: cover;">
                            <div class="deal-badge position-absolute top-0 start-0 m-2">
                                <span class="badge bg-info">KIDS SPECIAL</span>
                            </div>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Doraemon Happy Meal</h5>
                            <p class="card-text">Kids love our Doraemon Happy Meal! Get 10% off any Happy Meal order.</p>
                            <div class="mt-auto">
                                <button type="button" class="btn btn-info claim-deal-btn w-100" data-deal="Doraemon Happy Meal" data-requirements="Valid for Happy Meal orders only">
                                    <i class="fas fa-child me-2"></i>Order Happy Meal
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Special Announcement -->
            <div class="row mt-4">
                <div class="col-12">
                    <div class="alert alert-primary text-center" role="alert">
                        <h5 class="alert-heading">
                            <i class="fas fa-star me-2"></i>Earn Points on Every Order!
                        </h5>
                        <p class="mb-0">Join our rewards program and earn points with every purchase. Redeem points for free food items!</p>
                    </div>
                </div>
            </div>
            
            <!-- View All Deals Button -->
            <div class="text-center mt-4">
                <a asp-controller="Deals" asp-action="Index" class="btn btn-primary btn-lg">
                    <i class="fas fa-fire me-2"></i>View All Deals & Promotions
                </a>
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-choose-us py-5">
        <div class="container">
            <h2 class="text-center mb-5 section-title">Why Choose MACKDIHH?</h2>
            <div class="row">
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="feature-card text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-bolt fa-3x text-primary"></i>
                        </div>
                        <h5>Lightning Fast Delivery</h5>
                        <p>Get your food delivered in 20-30 minutes with our advanced tracking system!</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="feature-card text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-seedling fa-3x text-success"></i>
                        </div>
                        <h5>Premium Quality</h5>
                        <p>Farm-fresh ingredients and premium meats delivered daily to ensure the best taste!</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="feature-card text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-award fa-3x text-warning"></i>
                        </div>
                        <h5>Rewards & Points</h5>
                        <p>Earn points with every order and redeem amazing rewards!</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="feature-card text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-headset fa-3x text-info"></i>
                        </div>
                        <h5>24/7 Support</h5>
                        <p>Round-the-clock customer support with live chat and instant order tracking!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Customer Reviews Section -->
    <section class="reviews-section py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5 section-title">What Our Customers Say</h2>
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <div class="review-card h-100 d-flex flex-column">
                        <div class="review-stars mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="review-text">"Service tiptop! My order arrived so fast and the abang rider was super friendly. Highly recommended!"</p>
                        <div class="review-author mt-auto">
                            <strong>Mohd Moskov Bin Gusini</strong>
                            <small class="text-muted d-block">Local Foodie</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="review-card h-100 d-flex flex-column">
                        <div class="review-stars mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="review-text">"Had a late-night craving for Mack Freaky Dinosaur and MACKDIHH delivered! The food arrived hot and fresh, even at 3 AM. You guys are lifesavers."</p>
                        <div class="review-author mt-auto">
                            <strong>Sum Ting Wong</strong>
                            <small class="text-muted d-block">Night Owl</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="review-card h-100 d-flex flex-column">
                        <div class="review-stars mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="review-text">"Been using this app almost daily for my lunch fix. Always reliable, great selections, and the delivery is consistently fast. My go-to for sure!"</p>
                        <div class="review-author mt-auto">
                            <strong>Lily Lee La Lila</strong>
                            <small class="text-muted d-block">Regular Customer</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta-section py-5">
        <div class="container text-center">
            <h2 class="mb-4">Hungry for Something Delicious?</h2>
            <p class="lead mb-4">Discover our mouth-watering menu and get your favorite meals delivered fresh to your door.</p>
            <div class="cta-buttons">
                <a asp-controller="Menu" asp-action="Index" class="btn btn-primary btn-lg me-3">Browse Menu</a>
                <a asp-controller="Deals" asp-action="Index" class="btn btn-outline-primary btn-lg">Special Offers</a>
            </div>
        </div>
    </section>

</div>

@section Scripts {
    <script>
        // Handle claim deal functionality
        document.addEventListener('DOMContentLoaded', function() {
            const claimDealBtns = document.querySelectorAll('.claim-deal-btn');
            
            claimDealBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const dealName = this.getAttribute('data-deal');
                    const requirements = this.getAttribute('data-requirements');
                    
                    // Create a more engaging message based on the deal
                    let message = `🎉 ${dealName}\n\n`;
                    
                    if (dealName.includes('Welcome')) {
                        message += `Welcome to MackDihh! Use promo code "WELCOME10" for 10% off your first order.\n\nRequirements: ${requirements}`;
                    } else if (dealName.includes('Spicy Habanero')) {
                        message += `🔥 Hot Deal Alert! Use promo code "FLASH20" for 20% off our Spicy Habanero Burger.\n\nRequirements: ${requirements}`;
                    } else if (dealName.includes('Family')) {
                        message += `👨‍👩‍👧‍👦 Perfect for the whole family! Use promo code "FAMILY15" to save RM15.\n\nRequirements: ${requirements}`;
                    } else if (dealName.includes('Doraemon')) {
                        message += `🎁 Kids will love this! Use promo code "HAPPY10" for 10% off Happy Meals.\n\nRequirements: ${requirements}`;
                    } else {
                        message += `Requirements: ${requirements}`;
                    }
                    
                    message += `\n\nThis deal will be automatically applied when you use the promo code during checkout.`;
                    
                    // Show deal information
                    alert(message);
                    
                    // Optionally redirect to menu
                    if (confirm('Would you like to browse our menu to start your order?')) {
                        window.location.href = '/Menu';
                    }
                });
            });
        });
    </script>
}
